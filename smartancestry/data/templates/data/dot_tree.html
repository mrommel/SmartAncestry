{% load i18n %}
{% load app_filters %}
digraph G {
	graph [splines=ortho];
	nodesep=0.8;
	rankdir=LR;
	node [width=5, style=filled, shape=box];

	{% for relative in relatives.relatives %}
	"node-{{ relative.person.id }}" [
		label="{{ relative.person.first_name_short }} {{ relative.person.last_name }}\l\n{% if relative.person.birth_date_only_year %}{{ relative.person.birth_date | date:"Y" }}{% else %}{{ relative.person.birth_date | date:"d.m.Y" }}{% endif %} {% if relative.person.birth_location %}{{ relative.person.birth_location|location_without_country }}{% endif %}\l\n{% if relative.person.death_date_only_year %}{{ relative.person.death_date | date:"Y" }}{% else %}{{ relative.person.death_date | date:"d.m.Y" }}{% endif %} {% if relative.person.death_location %}{{ relative.person.death_location|location_without_country }}{% endif %}\l",
		{% if relative.person.sex = 'F'%}fillcolor="lightpink"{% else %}fillcolor="lightcyan"{% endif%}
	];{% endfor %}
  	{% for relation in relatives.relations %}
  	"node-{{ relation.source }}":f0 -> "node-{{ relation.destination }}":f0;{% endfor %}
}
